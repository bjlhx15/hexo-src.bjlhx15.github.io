---
title: 001-网站的性能指标及指标测试方法
categories:
  - performance
abbrlink: ea81502f
date: 2020-02-13 10:00:50
---

摘要：并发数、响应时间(RT)、吞吐量(Throughput)、页面浏览量(PV)、网站独立访客(UV)、峰值QPS和机器计算公式

<!-- more -->

# 常用网站性能参数

## 并发数

是指系统同时能处理的请求数量，这个也是反应了系统的负载能力。

## 响应时间(RT)
响应时间是一个系统最重要的指标之一，它的数值大小直接反应了系统的快慢。响应时间是指执行一个请求从开始到最后收到响应数据所花费的总体时间。

## 吞吐量(Throughput)-TPS
吞吐量是指单位时间内系统能处理的请求数量，体现系统处理请求的能力，这是目前最常用的性能测试指标。

QPS（每秒查询数）、TPS（每秒事务数）是吞吐量的常用量化指标，另外还有HPS（每秒HTTP请求数）。

跟吞吐量有关的几个重要是：并发数、响应时间。
```
QPS（TPS）= 并发数 / 平均响应时间
```

### QPS和TPS有什么区别？
TPS是每秒处理的请求数，是统计每秒用户的请求次数。QPS是每秒处理的查询次数，是统计每秒对于服务器查询的次数。用户一次请求，tps+1，而可能该请求中对应3次服务器查询次数，则qps+3。

例如输入一个url，返回html内容，对应查询服务器一次，而有可能在html中再次出现一个url，还需查询同样的服务器一次，则此时QPS>TPS。

## 页面浏览量(PV)

PV即Page View的简写, 即页面浏览量或点击量，用户每次刷新即被计算一次。
单台服务器每天PV计算：
公式1：每天总PV = QPS * 3600 * 6
公式2：每天总PV = QPS * 3600 * 8

## 网站独立访客(UV)
UV即Unique Visitor的简写，访问您网站的一台电脑客户端为一个访客。00:00-24:00内相同的客户端只被计算一次
服务器数量。
机器：峰值时间每秒QPS / 单台机器的QPS = 需要的机器
机器：ceil( 每天总PV / 单台服务器每天总PV )

## 峰值QPS和机器计算公式
原理：每天80%的访问集中在20%的时间里，这20%时间叫做峰值时间
公式：( 总PV数 * 80% ) / ( 每天秒数 * 20% ) = 峰值时间每秒请求数(QPS)
机器：峰值时间每秒QPS / 单台机器的QPS = 需要的机器

例子：
每天300万PV的在单台机器上，这台机器需要多少QPS？
答：( 3000000 * 0.8 ) / (86400 * 0.2 ) = 139 (QPS)
如果一台机器的QPS是58，需要几台机器来支持？
答：139 / 58 = 3

# 如何评估网站性能参数

## 针对中小型站点
- 方式一、使用：ab，可参看：[http://blog.bjlhx.top/categories/test-ab](http://blog.bjlhx.top/categories/test-ab)

初步评估 站点TPS等性能参数

- 方式二、jemter评估

## 大型-对应性能团队





